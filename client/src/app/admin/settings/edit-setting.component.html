<div class="wrapper">
    <app-sidebar></app-sidebar>
    <div class="main-panel">
      <app-admin-top></app-admin-top>      
      <mat-card class="ma_cat">        
        <form [formGroup]="settingForm" (ngSubmit)="onSubmit()">
          <div class="alert alert-danger" *ngIf="errormessage">{{errormessage}}</div>
          <div class="alert alert-success" *ngIf="successmessage">{{successmessage}}</div>
          
        <mat-grid-list cols="12">
            <mat-form-field>
                <input matInput placeholder="Field Label"  formControlName = "setting_label" name="setting_label">
                
              </mat-form-field>
            <a href="javascript:void(0)"  mat-raised-button color="primary" (click)="add()">Add</a>
        </mat-grid-list>   
        <div formArrayName="field">
          <mat-grid-list cols="12" *ngFor="let fieldArray of settingForm.get('field').controls; let in=index">
            <div [formGroupName]="in">
                <mat-form-field>
                    <input matInput placeholder="Field Name"  formControlName = "field_name" name="field_name">
                  </mat-form-field>
                  <!-- <span class="has-error" *ngIf="!settingForm.controls.field.controls[in].controls.field_name.valid && !settingForm.controls.field.controls[in].controls.field_name.touched">This field is require</span> -->
                <mat-form-field>
                    <input matInput placeholder="Field Value" formControlName = "field_value" name="field_value" >
                </mat-form-field>
                
                <a *ngIf="settingForm.controls.field.controls.length > 1"  mat-raised-button color="warn" (click)="remove(in)" href="javascript:void(0)">Delete</a>
            </div>          
          </mat-grid-list>
        </div>  
          <mat-grid-list cols="12">
              <button type="submit"  mat-raised-button color="accend" [disabled]="!settingForm.valid" >Save</button>
          </mat-grid-list>
        </form> 
      </mat-card>
    </div>
</div>      